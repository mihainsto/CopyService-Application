(this.webpackJsonpcopyservice=this.webpackJsonpcopyservice||[]).push([[0],{26:function(e,t,n){e.exports=n(49)},31:function(e,t,n){},32:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},33:function(e,t,n){},34:function(e,t,n){},39:function(e,t,n){},44:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),s=n.n(c),o=(n(31),n(32),n(33),n(15)),i=(n(34),n(3)),u=n.n(i),l=n(4),p=n(36),f="http://127.0.0.1:5000/",d=function(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t.toString())return n;return-1},h=function(){var e=Object(l.a)(u.a.mark((function e(t,n,r,a){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,n);case 2:return c=e.sent,e.next=5,c.json();case 5:s=e.sent,console.log(s),s.id;case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,k(t);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,console.log(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(u.a.mark((function e(t,n,r){var a,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return a=e.sent,e.next=5,a.json();case 5:if(c=e.sent,console.log(c),s=p.cloneDeep(n),o=d(s.list,t),console.log(o),-1!==o){e.next=12;break}return e.abrupt("return",-1);case 12:s.list.splice(o,1),r(s);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a,c,s,o,i,l,f,h,m,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return r=e.sent,e.next=5,r.json();case 5:a=e.sent,c=a.data,s=p.cloneDeep(t),o=0;case 9:if(!(o<c.length)){e.next=29;break}return console.log(t),i=null,l=c[o],e.next=15,O(l);case 15:return f=e.sent,e.next=18,f.json();case 18:h=e.sent,(m=parseInt(100*parseFloat(h.data)))>90&&(m=100,i="Done"),-1===(b=d(s.list,l))&&s.list.push({id:l,progress:0,status:"working",switchStatus:!0}),b=d(s.list,l),null!=m&&(s.list[b].progress=m),null!=i&&(s.list[b].status=i);case 26:o++,e.next=9;break;case 29:n(s);case 30:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var w=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"copy",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({from:t,to:n})});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"suspend",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({id:t})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"stop",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({id:t})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"resume",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({id:t})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"allJobs",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({})});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"status",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({id:t})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=n(24),S=n(20),C=(n(39),n(21)),N=n.n(C),B=n(18),J=(n(44),function(e){return a.a.createElement("div",null,a.a.createElement("div",{className:"progressBarBG"}),a.a.createElement("div",{className:"progressBar",style:{width:(n=e.progress,500*n/100),backgroundColor:(t=e.status,"canceled"==t?"#f46c6c":"working"==t?"#36a784":"#FFAE42")}},a.a.createElement("span",{className:"infoText"},e.status)));var t,n}),T=n(8),A=n(70);function I(){var e=Object(S.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return I=function(){return e},e}var P=Object(B.css)(I()),F=Object(T.a)((function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#36a784",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,n=Object(E.a)(e,["classes"]);return a.a.createElement(A.a,Object.assign({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},n))})),$=function(e){return"working"===e},D=function(e){return a.a.createElement("div",{className:"job"},a.a.createElement("div",{className:"jobContents"},a.a.createElement("div",{className:"text"},"JOB #",e.id),a.a.createElement("div",{className:"loader",style:{paddingRight:(t=e.status,"working"===t?0:60)}},a.a.createElement(N.a,{css:P,size:150,color:"#36D7B7",loading:$(e.status)})),a.a.createElement("div",{className:"progressbar"},a.a.createElement(J,{progress:e.progress,canceled:e.canceled,status:e.status})),a.a.createElement("div",{className:"switch"},a.a.createElement(F,{checked:e.switchChecked,onChange:function(t){return e.onSwitchClick(t,e.id,e.index)}})),a.a.createElement("button",{className:"btn",onClick:function(t){return e.onClickCancel(t,e.id,e.index)}}," ","Cancel")));var t},R=function(){!function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){g(n,c)}),1e3);var e=Object(r.useState)({list:[]}),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)("true"),i=Object(o.a)(s,2),u=(i[0],i[1]),l=Object(r.useState)(""),p=Object(o.a)(l,2),f=p[0],d=p[1],w=Object(r.useState)(""),k=Object(o.a)(w,2),x=k[0],j=k[1],y=function(e,t,r){v(t,n,c)},O=function(e,t,r){u(!1),console.log(r);var a=n.list;!1===a[r].switchStatus?(a[r].switchStatus=!0,a[r].status="working",b(a[r].id)):(a[r].switchStatus=!1,a[r].status="paused",m(a[r].id)),c({list:a})};return a.a.createElement("div",{className:"layout"},a.a.createElement("div",{className:"title"},"Copy Service"),a.a.createElement("div",{className:"buttonContainer"},a.a.createElement("input",{id:"pathFrom",type:"text",class:"form-control",placeholder:"Input Path",value:f,onChange:function(e){d(document.getElementById("pathFrom").value)}}),a.a.createElement("input",{id:"pathTo",type:"text",class:"form-control",placeholder:"Output path",value:x,onChange:function(e){j(document.getElementById("pathTo").value)}}),a.a.createElement("button",{onClick:function(){h(f,x,n,c)}},"Add Copy Job")),a.a.createElement("div",{className:"jobsContainer"},n.list.map((function(e,t){return a.a.createElement(D,{id:e.id,status:e.status,progress:e.progress,onClickCancel:y,onSwitchClick:O,switchChecked:e.switchStatus,index:t,className:"job"})}))))};var V=function(){return a.a.createElement(R,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.dd04856d.chunk.js.map