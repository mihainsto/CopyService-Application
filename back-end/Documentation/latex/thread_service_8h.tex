\hypertarget{thread_service_8h}{}\doxysection{C\+:/\+Users/teo/\+Documents/\+Git\+Hub/\+Copy\+Service-\/\+Application/back-\/end/thread\+Service.h File Reference}
\label{thread_service_8h}\index{C:/Users/teo/Documents/GitHub/CopyService-\/Application/back-\/end/threadService.h@{C:/Users/teo/Documents/GitHub/CopyService-\/Application/back-\/end/threadService.h}}


Thread Service Library.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$sys/stat.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$signal.\+h$>$}\newline
{\ttfamily \#include \char`\"{}I\+P\+C.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{thread_service_8h_a76d251d436fc33b4abac45174368888a}{stop\+Thread}} (int index)
\begin{DoxyCompactList}\small\item\em Stops a thread found at position index in threads array. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{thread_service_8h_abbb78620392a024017d04ada462a4ad6}{copy\+Thread}} (\mbox{\hyperlink{struct_i_p_cmessage_to_daemon}{I\+P\+Cmessage\+To\+Daemon}} $\ast$client\+\_\+message)
\begin{DoxyCompactList}\small\item\em Starts a new copy job on a new thread;. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{thread_service_8h_a20ce9b1ac09bc75f6427d96dbcdc70ba}{pause\+Thread}} (int job\+ID)
\begin{DoxyCompactList}\small\item\em Pauses a thread with the idex / job\+ID. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{thread_service_8h_a1cdf7c9fb54025e484669e9bfc144f1c}{status\+Thread}} (int job\+ID)
\begin{DoxyCompactList}\small\item\em Gets the progress of a job. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{thread_service_8h_ae174ba56082c30c0899667e200556aad}{resume\+Thread}} (int job\+ID)
\begin{DoxyCompactList}\small\item\em Resumes a job that has been paused. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{thread_service_8h_a0d44e42f0f21c9681b7065c8a2f0cd9f}\label{thread_service_8h_a0d44e42f0f21c9681b7065c8a2f0cd9f}} 
pthread\+\_\+t \mbox{\hyperlink{thread_service_8h_a0d44e42f0f21c9681b7065c8a2f0cd9f}{threads}} \mbox{[}1024\mbox{]}
\begin{DoxyCompactList}\small\item\em Array of threads, used to store thee jobs on independent threads. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{thread_service_8h_ad6621c9c33532eb4332e60ecb5730c6f}\label{thread_service_8h_ad6621c9c33532eb4332e60ecb5730c6f}} 
int \mbox{\hyperlink{thread_service_8h_ad6621c9c33532eb4332e60ecb5730c6f}{max\+Threads}}
\begin{DoxyCompactList}\small\item\em The maximum number of threads that can run in the same time. Configurabile. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{thread_service_8h_ae350baaa496f034d83f30054141c6e3a}\label{thread_service_8h_ae350baaa496f034d83f30054141c6e3a}} 
int \mbox{\hyperlink{thread_service_8h_ae350baaa496f034d83f30054141c6e3a}{pause\+\_\+status}} \mbox{[}1024\mbox{]}
\begin{DoxyCompactList}\small\item\em Array of ints that store the status of the thread (running/paused/stopped). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{thread_service_8h_a345bc9180a33603d45eba7374a64c986}\label{thread_service_8h_a345bc9180a33603d45eba7374a64c986}} 
float \mbox{\hyperlink{thread_service_8h_a345bc9180a33603d45eba7374a64c986}{progress}} \mbox{[}1024\mbox{]}
\begin{DoxyCompactList}\small\item\em Array of floats that store the progress of the thread (from 0=no progress to 1=done) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{thread_service_8h_a2680f9fe5653a596c7e779b838180fdc}\label{thread_service_8h_a2680f9fe5653a596c7e779b838180fdc}} 
pthread\+\_\+mutex\+\_\+t \mbox{\hyperlink{thread_service_8h_a2680f9fe5653a596c7e779b838180fdc}{mtx}}
\begin{DoxyCompactList}\small\item\em General mutex, for all type of jobs. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{thread_service_8h_a6f18c874fa02017c26b97d94415d6002}\label{thread_service_8h_a6f18c874fa02017c26b97d94415d6002}} 
pthread\+\_\+mutex\+\_\+t \mbox{\hyperlink{thread_service_8h_a6f18c874fa02017c26b97d94415d6002}{copy\+Thread\+Mutex}}
\begin{DoxyCompactList}\small\item\em Mutex for the copy jobs. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{thread_service_8h_a66fb7085b92ca2d2f1bb1413c5639b51}\label{thread_service_8h_a66fb7085b92ca2d2f1bb1413c5639b51}} 
pthread\+\_\+mutex\+\_\+t \mbox{\hyperlink{thread_service_8h_a66fb7085b92ca2d2f1bb1413c5639b51}{pause\+Mutex}}
\begin{DoxyCompactList}\small\item\em Mutex got the pause jobs. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{thread_service_8h_a27830876426f3f43f2581a8302edd941}\label{thread_service_8h_a27830876426f3f43f2581a8302edd941}} 
pthread\+\_\+mutex\+\_\+t \mbox{\hyperlink{thread_service_8h_a27830876426f3f43f2581a8302edd941}{progress\+Mutex}}
\begin{DoxyCompactList}\small\item\em Mutex ffor the progress jobs. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Thread Service Library. 

Thread Service is a Library that allows the start, pause, resume and cancel of a copy job. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{thread_service_8h_abbb78620392a024017d04ada462a4ad6}\label{thread_service_8h_abbb78620392a024017d04ada462a4ad6}} 
\index{threadService.h@{threadService.h}!copyThread@{copyThread}}
\index{copyThread@{copyThread}!threadService.h@{threadService.h}}
\doxysubsubsection{\texorpdfstring{copyThread()}{copyThread()}}
{\footnotesize\ttfamily int copy\+Thread (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_i_p_cmessage_to_daemon}{I\+P\+Cmessage\+To\+Daemon}} $\ast$}]{client\+\_\+message }\end{DoxyParamCaption})}



Starts a new copy job on a new thread;. 


\begin{DoxyParams}{Parameters}
{\em client\+\_\+message} & Informations got form the client like from where to where to copy. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Integer, is the index of the new thread. Needs to be stored in order to know what thread it is. 
\end{DoxyReturn}
\mbox{\Hypertarget{thread_service_8h_a20ce9b1ac09bc75f6427d96dbcdc70ba}\label{thread_service_8h_a20ce9b1ac09bc75f6427d96dbcdc70ba}} 
\index{threadService.h@{threadService.h}!pauseThread@{pauseThread}}
\index{pauseThread@{pauseThread}!threadService.h@{threadService.h}}
\doxysubsubsection{\texorpdfstring{pauseThread()}{pauseThread()}}
{\footnotesize\ttfamily void pause\+Thread (\begin{DoxyParamCaption}\item[{int}]{job\+ID }\end{DoxyParamCaption})}



Pauses a thread with the idex / job\+ID. 


\begin{DoxyParams}{Parameters}
{\em job\+ID} & Integer, the job that needs to be paused \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{thread_service_8h_ae174ba56082c30c0899667e200556aad}\label{thread_service_8h_ae174ba56082c30c0899667e200556aad}} 
\index{threadService.h@{threadService.h}!resumeThread@{resumeThread}}
\index{resumeThread@{resumeThread}!threadService.h@{threadService.h}}
\doxysubsubsection{\texorpdfstring{resumeThread()}{resumeThread()}}
{\footnotesize\ttfamily void resume\+Thread (\begin{DoxyParamCaption}\item[{int}]{job\+ID }\end{DoxyParamCaption})}



Resumes a job that has been paused. 


\begin{DoxyParams}{Parameters}
{\em job\+ID} & Integer, the job that needs to be resumed \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{thread_service_8h_a1cdf7c9fb54025e484669e9bfc144f1c}\label{thread_service_8h_a1cdf7c9fb54025e484669e9bfc144f1c}} 
\index{threadService.h@{threadService.h}!statusThread@{statusThread}}
\index{statusThread@{statusThread}!threadService.h@{threadService.h}}
\doxysubsubsection{\texorpdfstring{statusThread()}{statusThread()}}
{\footnotesize\ttfamily float status\+Thread (\begin{DoxyParamCaption}\item[{int}]{job\+ID }\end{DoxyParamCaption})}



Gets the progress of a job. 


\begin{DoxyParams}{Parameters}
{\em job\+ID} & Integer, the job that i want to know it\textquotesingle{}s progress \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Float, the progress of the job 
\end{DoxyReturn}
\mbox{\Hypertarget{thread_service_8h_a76d251d436fc33b4abac45174368888a}\label{thread_service_8h_a76d251d436fc33b4abac45174368888a}} 
\index{threadService.h@{threadService.h}!stopThread@{stopThread}}
\index{stopThread@{stopThread}!threadService.h@{threadService.h}}
\doxysubsubsection{\texorpdfstring{stopThread()}{stopThread()}}
{\footnotesize\ttfamily void stop\+Thread (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})}



Stops a thread found at position index in threads array. 


\begin{DoxyParams}{Parameters}
{\em index} & Index of the thread that needs to be stopped \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
